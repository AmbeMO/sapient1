<div class="cont">
  <div class="org-list">

    <div class="org-data"  *ngIf="visibleTable">

      <div class="create-btn">

        <div class="org-list__left-btn">

          <mat-form-field appearance="outline" class="mat-search">
            <span matPrefix>
              <mat-icon>search</mat-icon>
            </span>
           <input matInput placeholder="Search..." [(ngModel)]="searchStr">
          </mat-form-field>

          <button mat-button [matMenuTriggerFor]="menu" class="sort-btn">Sort</button>
          <mat-menu #menu="matMenu">
            <button mat-menu-item (click)="sortByNumber()">By number ASC</button>
            <button mat-menu-item (click)="sortByNumberDESC()">By number DESC</button>
            <button mat-menu-item (click)="sortByName()">By name ASC</button>
            <button mat-menu-item (click)="sortByNameDESC()">By name DESC</button>
            <button mat-menu-item (click)="sortByDate()">By date ASC</button>
            <button mat-menu-item (click)="sortByDateDESC()">By date DESC</button>
          </mat-menu>

        </div>

        <button mat-raised-button class="links createOrg" routerLink="/createOrg">Create Organization</button>

      </div>

        <table mat-table [dataSource]="lstOrgs | searchName:searchStr" class="table__row">

          <ng-container matColumnDef="index">
            <th mat-header-cell *matHeaderCellDef>#</th>
            <td mat-cell *matCellDef="let element; let i = index;" [routerLink]="['/updateOrg',element.id]">{{i + 1}}</td>
          </ng-container>

          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef>Name</th>
            <td mat-cell *matCellDef="let org" [routerLink]="['/updateOrg',org.id]"> {{org['name']}} </td>
          </ng-container>

          <ng-container matColumnDef="cardType">
            <th mat-header-cell *matHeaderCellDef>Card Type</th>
            <td mat-cell *matCellDef="let org" [routerLink]="['/updateOrg',org.id]"> {{org['cardType']}} </td>
          </ng-container>

          <ng-container matColumnDef="cardNum">
          <th mat-header-cell *matHeaderCellDef>Card Number</th>
          <td mat-cell *matCellDef="let org" [routerLink]="['/updateOrg',org.id]"> {{org['cardNum']}} </td>
          </ng-container>

          <ng-container matColumnDef="creationDate">
            <th mat-header-cell *matHeaderCellDef>Card Creation</th>
            <td mat-cell *matCellDef="let org" [routerLink]="['/updateOrg',org.id]"> {{org['creationDate']}} </td>
          </ng-container>

          <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef>Status</th>
            <td mat-cell *matCellDef="let org" [routerLink]="['/updateOrg',org.id]"> {{org['status']}} </td>
          </ng-container>

          <ng-container matColumnDef="update">
            <th mat-header-cell *matHeaderCellDef></th>
            <td mat-cell *matCellDef="let element">
              <button mat-icon-button color="primary" [routerLink]="['/updateOrg',element.id]" >
                <mat-icon>create</mat-icon>
              </button>
            </td>
          </ng-container>

          <ng-container matColumnDef="delete">
            <th mat-header-cell *matHeaderCellDef></th>
            <td mat-cell *matCellDef="let element">
              <button mat-icon-button color="primary" (click)="openDialog(element.id)">
                <mat-icon>delete</mat-icon>
              </button>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>


    </div>
    <div *ngIf="!visibleTable" class="no-list">
      <div class="no-list-btn">
        <button class="links createOrg" routerLink="/createOrg">Create Organization</button>
      </div>
      <div class="no-list__body">
        <img src="../../assets/img/icons/open-cardboard-box.png" alt="">
        <p>No organization, please create one</p>
        <hr class="no-list-hr">
      </div>
    </div>
  </div>


  <div class="org__bottom-hr">
  </div>
</div>
